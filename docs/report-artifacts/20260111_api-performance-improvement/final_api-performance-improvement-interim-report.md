# API 성능 개선 프로젝트 중간 보고서

**프로젝트명**: API 성능 개선 프로젝트
**보고 기간**: 2026년 1월 1일 ~ 2026년 1월 11일
**보고서 유형**: 중간 보고서 (진행률 60%)
**작성일**: 2026년 1월 11일

---

## 1. 요약 (Executive Summary)

**요약**: 프로젝트는 전체 작업의 60%를 완료했으며, API 응답 시간을 35% 개선했습니다.

| 항목 | 현황 |
|-----|-----|
| 진행률 | 60% (12개 작업 중 7개 완료, 3개 진행 중, 2개 예정) |
| 주요 성과 | API 응답 시간 850ms → 550ms (35% 개선) |
| 주요 리스크 | Redis 장애 대응, 쿼리 성능 저하, DB 마이그레이션 지연 |
| 의사결정 필요 | DBA 추가 지원 1명 (2주), 성능 테스트 중 부하 제한 승인 |

**핵심 성과**:
- API 평균 응답 시간 35% 개선 (850ms → 550ms)
- 처리량 50% 증가 (500 req/s → 750 req/s)
- P95 응답 시간 33% 개선 (1.2초 → 0.8초)
- 오류율 60% 감소 (0.5% → 0.2%)

**발견된 주요 리스크**:
- Redis 장애 시 데이터베이스 과부하 가능성
- 특정 쿼리 최적화 후 성능 저하 발견
- 데이터베이스 마이그레이션 지연 우려

**권고사항**: DBA 추가 지원을 승인하여 데이터베이스 마이그레이션 리스크를 완화하고, 성능 테스트 기간 중 프로덕션 부하 제한을 승인하여 정확한 성능 측정을 보장하시기 바랍니다.

---

## 2. 배경 및 목표

**요약**: 사용자 증가로 인한 API 응답 지연 문제를 해결하기 위해 성능 개선 프로젝트를 시작했습니다.

### 2.1 프로젝트 배경

최근 3개월간 사용자 수가 40% 증가하면서 API 응답 시간이 평균 850ms로 증가했습니다.
이로 인해 사용자 이탈률이 15% 증가하고, 고객 만족도가 저하되었습니다.
특히 피크 시간대(오후 2시-4시)에는 응답 시간이 1.5초를 초과하여 서비스 품질에 심각한 영향을 미쳤습니다.

### 2.2 목표 및 성공 기준

| 구분 | 현재 (Before) | 목표 (Target) | 측정 방법 |
|-----|-----------|-----------|---------|
| API 응답 시간 (평균) | 850ms | 550ms 이하 | New Relic APM |
| 처리량 (Throughput) | 500 req/s | 700 req/s 이상 | Apache JMeter |
| P95 응답 시간 | 1.2초 | 0.8초 이하 | New Relic APM |
| 오류율 | 0.5% | 0.2% 이하 | 에러 로그 분석 |
| 캐시 히트율 | - | 80% 이상 | Redis INFO 명령 |

**성공 기준**:
- 모든 측정 지표가 목표값 달성
- 프로덕션 환경에서 2주간 안정적 운영 검증
- 사용자 이탈률 10% 이내로 감소

---

## 3. 진행 현황

**요약**: 전체 12개 작업 중 7개를 완료했으며, 3개는 진행 중이고 2개는 예정되어 있습니다.

### 3.1 전체 진행률

**60% 달성** (12개 작업 중 7개 완료, 3개 진행 중, 2개 예정)

```
진행률 시각화:
[████████████████████░░░░░░░░░░░░] 60%

완료: 7개 ████████████████████
진행: 3개 ████████
예정: 2개 ████
```

**진행률 산정 근거**:
- 전체 작업 항목: 12개
- 완료된 작업: 7개 (58%)
- 진행 중 작업의 평균 완성도: 70% (3개 × 0.7 = 2.1개 상당)
- 계산: (7 + 2.1) / 12 = 75.8% → 보수적으로 60% 보고

### 3.2 완료된 작업 항목

| 작업 항목 | 완료일 | 담당자 | 성과 |
|---------|-------|--------|-----|
| Redis 캐싱 시스템 도입 | 2026-01-05 | 김개발 | 캐시 히트율 85% 달성 |
| 주요 API 쿼리 최적화 | 2026-01-08 | 이백엔드 | 조회 시간 90% 단축 |
| N+1 쿼리 문제 해결 | 2026-01-06 | 이백엔드 | 쿼리 횟수 10회 → 1회 |
| 불필요한 JOIN 제거 | 2026-01-07 | 이백엔드 | 쿼리 실행 시간 40% 단축 |
| 성능 모니터링 시스템 구축 | 2026-01-04 | 박인프라 | 실시간 성능 추적 가능 |
| API 응답 캐싱 전략 수립 | 2026-01-03 | 김개발 | TTL 정책 최적화 완료 |
| 데이터베이스 커넥션 풀 최적화 | 2026-01-09 | 박DB | 커넥션 대기 시간 50% 감소 |

### 3.3 진행 중인 작업

| 작업 항목 | 진행률 | 예상 완료일 | 담당자 | 비고 |
|---------|-------|----------|--------|-----|
| 데이터베이스 인덱스 추가 | 80% | 2026-01-15 | 박DB | 5개 테이블 중 4개 완료 |
| API 응답 데이터 압축 적용 | 60% | 2026-01-17 | 김개발 | gzip 압축 테스트 중 |
| 쿼리 실행 계획 분석 및 개선 | 70% | 2026-01-16 | 이백엔드 | 3개 쿼리 분석 완료 |

**진행 중 작업 상세**:
- **데이터베이스 인덱스 추가**: `products`, `users`, `orders`, `reviews` 테이블에 인덱스 추가 완료, `categories` 테이블 작업 중
- **API 응답 데이터 압축**: gzip 압축 테스트 완료, 브라우저 호환성 검증 진행 중
- **쿼리 실행 계획 분석**: 상품 목록, 사용자 프로필, 주문 내역 API 쿼리 분석 완료, 개선안 적용 예정

### 3.4 예정된 작업

| 작업 항목 | 예상 시작일 | 예상 완료일 | 담당자 |
|---------|----------|----------|--------|
| 나머지 API 쿼리 최적화 | 2026-01-15 | 2026-01-18 | 이백엔드 |
| 성능 테스트 및 검증 | 2026-01-20 | 2026-01-22 | 김QA |

---

## 4. 기술 성과

**요약**: Redis 캐싱과 쿼리 최적화를 통해 API 응답 시간을 35% 개선하고, 처리량을 50% 증가시켰습니다.

### 4.1 성능 개선 결과

| 측정 지표 | Before | After | 개선율 |
|---------|--------|-------|-------|
| API 응답 시간 (평균) | 850ms | 550ms | 35% ↓ |
| 처리량 (Throughput) | 500 req/s | 750 req/s | 50% ↑ |
| P95 응답 시간 | 1.2초 | 0.8초 | 33% ↓ |
| 오류율 | 0.5% | 0.2% | 60% ↓ |
| 데이터베이스 CPU 사용률 | 75% | 55% | 27% ↓ |
| 메모리 사용률 | 80% | 70% | 13% ↓ |

**비즈니스 임팩트**:
- 사용자 대기 시간 평균 300ms 단축으로 사용자 경험 개선
- 예상 이탈률 감소: 15% → 8% (목표 10% 달성 가능)
- 서버 증설 시기 3개월 연기 가능 (비용 절감 효과)

**성능 개선 시각화**:
```
응답 시간 개선 (Before vs After):

Before (850ms): ████████████████████████████████████████████
After  (550ms): ████████████████████████████

처리량 개선 (Before vs After):

Before (500 req/s): ██████████████████████████████
After  (750 req/s): █████████████████████████████████████████████
```

### 4.2 적용된 기술 상세

#### Redis 캐싱

**개요**: 자주 조회되는 데이터를 메모리에 캐싱하여 데이터베이스 부하를 감소시키고 응답 속도를 개선했습니다.

| 구분 | 값 |
|-----|-----|
| 캐싱 대상 | 상품 정보 조회 API, 사용자 프로필 API, 카테고리 목록 API |
| TTL 설정 | 상품 정보 60초, 사용자 프로필 300초, 카테고리 3600초 |
| 캐시 히트율 | 85% (목표: 80% 초과 달성) |
| 메모리 사용량 | 2GB (전체 8GB 중 25%) |
| 적용 서버 | Redis 6.2, 클러스터 모드 (Master 1, Slave 2) |

**기술적 근거**:
- 상품 정보 조회 API는 전체 요청의 40%를 차지하며, 읽기/쓰기 비율이 10:1로 캐싱 효과가 높습니다.
- 사용자 프로필은 세션 기간 동안 변경 빈도가 낮아 5분 캐싱이 적절합니다.
- 카테고리 정보는 하루 1회 이하로 변경되어 1시간 캐싱으로 데이터베이스 부하를 크게 줄일 수 있습니다.

**캐싱 전략**:
- Cache-Aside 패턴 적용: 캐시 미스 시 데이터베이스 조회 후 캐시 저장
- 캐시 무효화: 데이터 수정 시 해당 캐시 키 삭제
- Failover: Redis 장애 시 데이터베이스 직접 조회로 자동 전환

#### 쿼리 최적화

**사례 1: products 테이블 인덱스 추가**
- **문제**: 카테고리별 상품 조회 시 전체 테이블 스캔 발생
- **해결**: `category_id` 컬럼에 인덱스 추가
- **성과**: 조회 시간 500ms → 50ms (90% 개선)
- **영향 범위**: 상품 목록 API, 카테고리별 상품 API

**사례 2: N+1 쿼리 문제 해결**
- **문제**: 상품 목록 조회 시 각 상품의 리뷰 개수를 별도 쿼리로 조회 (10개 상품 = 11회 쿼리)
- **해결**: Eager Loading 적용하여 JOIN으로 한 번에 조회
- **성과**: 11회 쿼리 → 1회 쿼리 (쿼리 횟수 91% 감소)
- **영향 범위**: 상품 목록 API

**사례 3: 불필요한 JOIN 제거**
- **문제**: 사용자 프로필 조회 시 사용하지 않는 주문 내역까지 JOIN
- **해결**: 필요한 컬럼만 SELECT, 불필요한 JOIN 제거
- **성과**: 쿼리 실행 시간 200ms → 120ms (40% 개선)
- **영향 범위**: 사용자 프로필 API

### 4.3 벤치마크 분석

**테스트 환경**:
- 도구: Apache JMeter 5.5
- 부하: 동시 사용자 1000명, 10분간 지속
- 측정 대상 API: `/api/products/list`, `/api/user/profile`, `/api/categories`
- 테스트 서버: AWS EC2 t3.large (2 vCPU, 8GB RAM)
- 데이터베이스: AWS RDS MySQL 8.0 (db.t3.medium)

**측정 방법**:
- 각 API에 대해 10분간 지속적으로 요청 전송
- 평균 응답 시간, P95 응답 시간, 처리량, 오류율 측정
- New Relic APM으로 실시간 모니터링

**측정 결과**:
- 모든 측정 지표가 목표값 달성 또는 초과 달성
- 피크 시간대 시뮬레이션에서도 안정적인 성능 유지
- 오류 발생률 0.2%로 목표 달성

---

## 5. 리스크 및 해결 방안

**요약**: 3건의 주요 리스크를 발견했으며, 각각에 대한 구체적인 해결 방안과 일정을 수립했습니다.

### 5.1 발견된 기술 리스크

| 리스크 ID | 설명 | 중요도 | 긴급도 | 영향 범위 | 발생 확률 |
|---------|-----|-------|-------|---------|---------|
| R-01 | Redis 장애 시 캐시 미스로 인한 데이터베이스 과부하 가능성 | 높음 | 중간 | 전체 API | 30% |
| R-02 | 쿼리 최적화 후 특정 쿼리의 성능 저하 발견 (검색 API) | 중간 | 높음 | 검색 API | 발생함 |
| R-03 | 남은 작업 중 데이터베이스 마이그레이션 지연 우려 | 높음 | 높음 | 전체 일정 | 40% |

**리스크 매트릭스 (중요도 × 긴급도)**:
```
긴급도
높음 │     R-02    │     R-03    │
     │             │             │
중간 │     R-01    │             │
     │             │             │
낮음 │             │             │
     └─────────────┴─────────────┴───
      낮음         중간         높음
                  중요도
```

### 5.2 리스크별 해결 방안

#### R-01: Redis 장애 대응

**문제 상세**:
Redis에 장애가 발생하면 모든 API 요청이 데이터베이스로 직접 전달되어 순간적으로 데이터베이스에 부하가 몰립니다.
현재 데이터베이스는 평상시 부하의 3배까지 처리 가능하지만, 피크 시간대에는 과부하 위험이 있습니다.

**해결 방안**:
- Redis Sentinel 구성으로 고가용성 확보 (Master 1, Slave 2, Sentinel 3)
- Circuit Breaker 패턴 적용: 데이터베이스 과부하 감지 시 일부 요청 지연 처리
- 데이터베이스 Read Replica 추가 (1대 → 2대) 검토

**담당자**: 김인프라

**예상 완료**: 2026-01-20

**비용**: Redis Sentinel 추가 인스턴스 비용 월 $150

#### R-02: 쿼리 성능 저하

**문제 상세**:
검색 API의 쿼리 최적화 과정에서 `LIKE '%keyword%'` 패턴 사용으로 인덱스를 활용하지 못하는 문제가 발견되었습니다.
검색 키워드가 단어 중간에 포함된 경우를 찾기 위해 와일드카드를 양쪽에 사용했으나, 이로 인해 전체 테이블 스캔이 발생합니다.

**해결 방안**:
- Full-Text Search 인덱스 도입 (MySQL FULLTEXT 또는 Elasticsearch 검토)
- 단기 해결: 검색 키워드를 단어 시작 부분만 매칭하도록 변경 (`LIKE 'keyword%'`)
- 장기 해결: Elasticsearch 도입으로 검색 성능 및 기능 개선

**담당자**: 이백엔드

**예상 완료**: 2026-01-18 (단기), 2026-02-28 (장기)

**비용**: Elasticsearch 도입 시 월 $300 예상

#### R-03: 데이터베이스 마이그레이션 지연

**문제 상세**:
데이터베이스 스키마 변경 작업(인덱스 추가, 컬럼 타입 변경)을 2026년 1월 20일까지 완료해야 합니다.
그러나 데이터 양이 증가하여 예상보다 작업 시간이 오래 걸리고 있습니다.
`products` 테이블에 2억 건의 데이터가 있어 인덱스 추가에 예상 4시간 소요되며, 이 기간 동안 서비스 영향이 우려됩니다.

**해결 방안**:
- 마이그레이션 작업을 3단계로 분리: 테스트 환경 → Read Replica → Master
- pt-online-schema-change 도구 사용으로 서비스 중단 없이 작업 진행
- DBA 추가 지원 1명 투입 (2주) 하여 작업 속도 향상 및 리스크 관리

**담당자**: 박DB

**예상 완료**: 2026-01-25

**리소스 요청**: DBA 1명 추가 지원 (1월 16일-25일, 10일간)

### 5.3 완화 계획 일정

**일정 타임라인**:

| 리스크 ID | 해결 작업 | 1월 12-15일 | 1월 16-20일 | 1월 21-25일 |
|---------|---------|-----------|-----------|-----------|
| R-01 | Redis Sentinel 구성 | 설계 | 구현 | 테스트 ✅ |
| R-02 | 쿼리 재분석 및 개선 | 분석 ✅ | 수정 및 적용 | 검증 |
| R-03 | DB 마이그레이션 | 계획 수립 | 단계 1-2 | 단계 3 완료 |

**주요 마일스톤**:
- 2026-01-18: R-02 단기 해결 완료 (검색 API 성능 개선)
- 2026-01-20: R-01 해결 완료 (Redis 고가용성 확보)
- 2026-01-25: R-03 해결 완료 (DB 마이그레이션 완료)

---

## 6. 향후 계획 (남은 40%)

**요약**: 남은 2개 작업과 성능 테스트를 2주 내 완료하여 2026년 1월 27일 프로덕션 배포를 목표로 합니다.

### 6.1 다음 단계 작업 항목

| 우선순위 | 작업 항목 | 예상 공수 | 담당자 | 시작일 | 완료 예정일 |
|---------|---------|---------|--------|-------|-----------|
| 1 | 나머지 API 쿼리 최적화 | 3일 | 이백엔드 | 2026-01-15 | 2026-01-18 |
| 2 | 데이터베이스 인덱스 추가 완료 | 2일 | 박DB | 2026-01-16 | 2026-01-18 |
| 3 | API 응답 데이터 압축 적용 완료 | 2일 | 김개발 | 2026-01-17 | 2026-01-19 |
| 4 | 성능 테스트 및 검증 | 3일 | 김QA | 2026-01-20 | 2026-01-22 |
| 5 | 리스크 해결 작업 | 5일 | 전체팀 | 2026-01-16 | 2026-01-21 |
| 6 | 프로덕션 배포 준비 | 2일 | 박인프라 | 2026-01-23 | 2026-01-25 |
| 7 | 프로덕션 배포 및 모니터링 | 2일 | 전체팀 | 2026-01-27 | 2026-01-28 |

**작업 상세**:

**나머지 API 쿼리 최적화**:
- 검색 API, 추천 API, 통계 API 등 나머지 5개 API 쿼리 분석 및 최적화
- 각 API별 성능 목표: 응답 시간 500ms 이하

**데이터베이스 인덱스 추가 완료**:
- `categories` 테이블 인덱스 추가 완료
- 전체 인덱스 효율성 검증

**API 응답 데이터 압축 적용 완료**:
- gzip 압축 브라우저 호환성 검증 완료
- 프로덕션 환경 적용 및 성능 측정

### 6.2 일정 및 마일스톤

| 마일스톤 | 예정일 | 설명 | 완료 조건 |
|---------|-------|-----|---------|
| M3: 쿼리 최적화 완료 | 2026-01-18 | 모든 API 쿼리 최적화 완료 | 12개 API 모두 응답 시간 500ms 이하 |
| M4: 성능 테스트 완료 | 2026-01-22 | 목표 성능 달성 검증 | 모든 측정 지표 목표 달성 |
| M5: 프로덕션 배포 | 2026-01-27 | 최종 배포 및 모니터링 시작 | 배포 완료 및 24시간 안정 운영 |

**최종 완료 예정일**: 2026-01-27 (당초 목표일 2026-01-29 대비 2일 여유)

**일정 시각화**:
```
1월 15일-18일: 쿼리 최적화 [████] → M3
1월 20일-22일: 성능 테스트 [███] → M4
1월 27일-28일: 배포 [██] → M5
```

### 6.3 리소스 요구사항

**인력**:
- DBA 추가 지원 1명 (1월 16일-25일, 10일간) - 데이터베이스 마이그레이션 지원
- QA 엔지니어 성능 테스트 전담 (1월 20일-22일, 3일간) - 부하 테스트 및 성능 검증

**도구**:
- 성능 모니터링 도구 라이선스 연장 (현재 1월 20일 만료 예정) - New Relic APM 3개월 연장 필요
- Redis Sentinel 추가 인스턴스 (월 $150)

**의사결정 필요 사항**:

| 의사결정 항목 | 요청 내용 | 결정권자 | 희망 결정일 | 비용 |
|------------|---------|---------|----------|-----|
| DBA 추가 지원 | 1명, 10일간 지원 | 기술팀장 | 2026-01-14 | 내부 인력 |
| 성능 테스트 중 부하 제한 | 프로덕션 부하 30% 제한 허용 여부 | PM | 2026-01-18 | - |
| 모니터링 도구 라이선스 | New Relic APM 3개월 연장 | 기술팀장 | 2026-01-15 | $1,200 |
| Redis Sentinel 추가 인스턴스 | 고가용성 확보를 위한 추가 인스턴스 | 기술팀장 | 2026-01-14 | 월 $150 |

---

## 7. 결론 및 권고사항

**요약**: 프로젝트는 계획대로 진행 중이며, 발견된 리스크에 대한 해결 방안이 수립되어 성공 가능성이 높습니다.

### 7.1 핵심 결론

**현재 상태**:
프로젝트는 전체 작업의 60%를 완료했으며, API 응답 시간 35% 개선, 처리량 50% 증가라는 주요 성과를 달성했습니다.
완료된 7개 작업을 통해 Redis 캐싱, 쿼리 최적화 등 핵심 기술이 성공적으로 적용되었습니다.

**성공 가능성**:
발견된 3건의 리스크(Redis 장애 대응, 쿼리 성능 저하, DB 마이그레이션 지연)에 대한 구체적인 해결 방안과 일정이 수립되었습니다.
DBA 추가 지원이 승인되면 남은 40% 작업을 계획대로 완료할 수 있으며, 최종 목표일(2026년 1월 27일) 달성이 가능합니다.

**핵심 성과**:
- Redis 캐싱 도입으로 주요 API 응답 시간 35% 개선 (850ms → 550ms)
- 쿼리 최적화로 데이터베이스 부하 27% 감소 (CPU 75% → 55%)
- 시스템 안정성 향상 (오류율 0.5% → 0.2%)
- 처리량 50% 증가 (500 req/s → 750 req/s)

**비즈니스 임팩트**:
- 사용자 대기 시간 300ms 단축으로 사용자 경험 개선
- 예상 이탈률 15% → 8%로 감소 (목표 10% 달성 가능)
- 서버 증설 시기 3개월 연기로 비용 절감 효과

### 7.2 의사결정 필요 사항

| 의사결정 항목 | 요청 내용 | 결정권자 | 희망 결정일 | 근거 |
|------------|---------|---------|----------|-----|
| DBA 추가 지원 | 1명, 10일간 지원 (1월 16-25일) | 기술팀장 | 2026-01-14 | DB 마이그레이션 리스크 완화, 일정 준수 |
| 성능 테스트 중 부하 제한 | 프로덕션 부하 30% 제한 허용 | PM | 2026-01-18 | 정확한 성능 측정 보장 |
| 모니터링 도구 라이선스 | New Relic APM 3개월 연장 ($1,200) | 기술팀장 | 2026-01-15 | 지속적인 성능 추적 유지 |
| Redis Sentinel 추가 인스턴스 | 고가용성 확보 (월 $150) | 기술팀장 | 2026-01-14 | Redis 장애 리스크 완화 |

**권고사항**:

1. **DBA 추가 지원 승인 (최우선)**
   - 데이터베이스 마이그레이션은 프로젝트의 핵심 작업이며, 지연 시 전체 일정에 영향을 미칩니다.
   - DBA 1명 추가 지원으로 작업 속도를 2배 향상시킬 수 있으며, 리스크 관리가 가능합니다.
   - 희망 결정일: 2026년 1월 14일

2. **성능 테스트 중 프로덕션 부하 제한 승인**
   - 정확한 성능 측정을 위해 3일간(1월 20-22일) 프로덕션 부하를 30% 제한하는 것이 필요합니다.
   - 피크 시간대를 피하여 비즈니스 영향을 최소화할 수 있습니다.
   - 희망 결정일: 2026년 1월 18일

3. **모니터링 도구 라이선스 연장 승인**
   - 지속적인 성능 추적을 위해 New Relic APM 라이선스를 3개월 연장하는 것이 필요합니다.
   - 프로덕션 배포 후 2주간 집중 모니터링으로 안정성을 확보할 수 있습니다.
   - 희망 결정일: 2026년 1월 15일

4. **Redis Sentinel 추가 인스턴스 승인**
   - Redis 장애 시 데이터베이스 과부하를 방지하기 위해 고가용성 구성이 필요합니다.
   - 월 $150의 추가 비용으로 시스템 안정성을 크게 향상시킬 수 있습니다.
   - 희망 결정일: 2026년 1월 14일

---

**보고서 작성일**: 2026년 1월 11일
**다음 보고 예정일**: 2026년 1월 18일 (주간 진행 상황 공유)
**문의**: 프로젝트 리더 김개발 (kim.dev@company.com)

